/*
Waypoints - 4.0.0
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){function c(d){if(!d){throw new Error("No options passed to Waypoint constructor")}if(!d.element){throw new Error("No element option passed to Waypoint constructor")}if(!d.handler){throw new Error("No handler option passed to Waypoint constructor")}this.key="waypoint-"+a,this.options=c.Adapter.extend({},c.defaults,d),this.element=this.options.element,this.adapter=new c.Adapter(this.element),this.callback=d.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=c.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=c.Context.findOrCreateByElement(this.options.context),c.offsetAliases[this.options.offset]&&(this.options.offset=c.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),b[this.key]=this,a+=1}var a=0,b={};c.prototype.queueTrigger=function(d){this.group.queueTrigger(this,d)},c.prototype.trigger=function(d){this.enabled&&this.callback&&this.callback.apply(this,d)},c.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete b[this.key]},c.prototype.disable=function(){return this.enabled=!1,this},c.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},c.prototype.next=function(){return this.group.next(this)},c.prototype.previous=function(){return this.group.previous(this)},c.invokeAll=function(i){var d=[];for(var f in b){d.push(b[f])}for(var g=0,h=d.length;h>g;g++){d[g][i]()}},c.destroyAll=function(){c.invokeAll("destroy")},c.disableAll=function(){c.invokeAll("disable")},c.enableAll=function(){c.invokeAll("enable")},c.refreshAll=function(){c.Context.refreshAll()},c.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},c.viewportWidth=function(){return document.documentElement.clientWidth},c.adapters=[],c.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},c.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=c}(),function(){function g(e){window.setTimeout(e,1000/60)}function a(e){this.element=e,this.Adapter=d.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+b,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,c[e.waypointContextKey]=this,b+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var b=0,c={},d=window.Waypoint,f=window.onload;a.prototype.add=function(i){var h=i.options.horizontal?"horizontal":"vertical";this.waypoints[h][i.key]=i,this.refresh()},a.prototype.checkEmpty=function(){var i=this.Adapter.isEmptyObject(this.waypoints.horizontal),h=this.Adapter.isEmptyObject(this.waypoints.vertical);i&&h&&(this.adapter.off(".waypoints"),delete c[this.key])},a.prototype.createThrottledResizeHandler=function(){function i(){h.handleResize(),h.didResize=!1}var h=this;this.adapter.on("resize.waypoints",function(){h.didResize||(h.didResize=!0,d.requestAnimationFrame(i))})},a.prototype.createThrottledScrollHandler=function(){function i(){h.handleScroll(),h.didScroll=!1}var h=this;this.adapter.on("scroll.waypoints",function(){(!h.didScroll||d.isTouch)&&(h.didScroll=!0,d.requestAnimationFrame(i))})},a.prototype.handleResize=function(){d.Context.refreshAll()},a.prototype.handleScroll=function(){var C={},m={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var v in m){var x=m[v],y=x.newScroll>x.oldScroll,A=y?x.forward:x.backward;for(var B in this.waypoints[v]){var w=this.waypoints[v][B],j=x.oldScroll<w.triggerPoint,q=x.newScroll>=w.triggerPoint,z=j&&q,D=!j&&!q;(z||D)&&(w.queueTrigger(A),C[w.group.id]=w.group)}}for(var k in C){C[k].flushTriggers()}this.oldScroll={x:m.horizontal.newScroll,y:m.vertical.newScroll}},a.prototype.innerHeight=function(){return this.element==this.element.window?d.viewportHeight():this.adapter.innerHeight()},a.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},a.prototype.innerWidth=function(){return this.element==this.element.window?d.viewportWidth():this.adapter.innerWidth()},a.prototype.destroy=function(){var m=[];for(var h in this.waypoints){for(var j in this.waypoints[h]){m.push(this.waypoints[h][j])}}for(var k=0,l=m.length;l>k;k++){m[k].destroy()}},a.prototype.refresh=function(){var F,o=this.element==this.element.window,z=o?void 0:this.adapter.offset(),B={};this.handleScroll(),F={horizontal:{contextOffset:o?0:z.left,contextScroll:o?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:o?0:z.top,contextScroll:o?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var D in F){var E=F[D];for(var A in this.waypoints[D]){var j,x,C,G,k,q=this.waypoints[D][A],m=q.options.offset,I=q.triggerPoint,v=0,H=null==I;q.element!==q.element.window&&(v=q.adapter.offset()[E.offsetProp]),"function"==typeof m?m=m.apply(q):"string"==typeof m&&(m=parseFloat(m),q.options.offset.indexOf("%")>-1&&(m=Math.ceil(E.contextDimension*m/100))),j=E.contextScroll-E.contextOffset,q.triggerPoint=v+j-m,x=I<E.oldScroll,C=q.triggerPoint>=E.oldScroll,G=x&&C,k=!x&&!C,!H&&G?(q.queueTrigger(E.backward),B[q.group.id]=q.group):!H&&k?(q.queueTrigger(E.forward),B[q.group.id]=q.group):H&&E.oldScroll>=q.triggerPoint&&(q.queueTrigger(E.forward),B[q.group.id]=q.group)}}return d.requestAnimationFrame(function(){for(var e in B){B[e].flushTriggers()}}),this},a.findOrCreateByElement=function(e){return a.findByElement(e)||new a(e)},a.refreshAll=function(){for(var e in c){c[e].refresh()}},a.findByElement=function(e){return c[e.waypointContextKey]},window.onload=function(){f&&f(),a.refreshAll()},d.requestAnimationFrame=function(h){var j=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||g;j.call(window,h)},d.Context=a}(),function(){function f(h,g){return h.triggerPoint-g.triggerPoint}function a(h,g){return g.triggerPoint-h.triggerPoint}function b(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),c[this.axis][this.name]=this}var c={vertical:{},horizontal:{}},d=window.Waypoint;b.prototype.add=function(e){this.waypoints.push(e)},b.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},b.prototype.flushTriggers=function(){for(var e in this.triggerQueues){var h=this.triggerQueues[e],j="up"===e||"left"===e;h.sort(j?a:f);for(var k=0,m=h.length;m>k;k+=1){var g=h[k];(g.options.continuous||k===h.length-1)&&g.trigger([e])}}this.clearTriggerQueues()},b.prototype.next=function(g){this.waypoints.sort(f);var h=d.Adapter.inArray(g,this.waypoints),j=h===this.waypoints.length-1;return j?null:this.waypoints[h+1]},b.prototype.previous=function(g){this.waypoints.sort(f);var h=d.Adapter.inArray(g,this.waypoints);return h?this.waypoints[h-1]:null},b.prototype.queueTrigger=function(h,g){this.triggerQueues[g].push(h)},b.prototype.remove=function(h){var g=d.Adapter.inArray(h,this.waypoints);g>-1&&this.waypoints.splice(g,1)},b.prototype.first=function(){return this.waypoints[0]},b.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},b.findOrCreate=function(e){return c[e.axis][e.name]||new b(e)},d.Group=b}(),function(){function d(e){return e===e.window}function a(f){return d(f)?f:f.defaultView}function b(e){this.element=e,this.handlers={}}var c=window.Waypoint;b.prototype.innerHeight=function(){var f=d(this.element);return f?this.element.innerHeight:this.element.clientHeight},b.prototype.innerWidth=function(){var f=d(this.element);return f?this.element.innerWidth:this.element.clientWidth},b.prototype.off=function(u,g){function h(y,l,s){for(var v=0,w=l.length-1;w>v;v++){var x=l[v];s&&s!==x||y.removeEventListener(x)}}var k=u.split("."),m=k[0],p=k[1],q=this.element;if(p&&this.handlers[p]&&m){h(q,this.handlers[p][m],g),this.handlers[p][m]=[]}else{if(m){for(var j in this.handlers){h(q,this.handlers[j][m]||[],g),this.handlers[j][m]=[]}}else{if(p&&this.handlers[p]){for(var f in this.handlers[p]){h(q,this.handlers[p][f],g)}this.handlers[p]={}}}}},b.prototype.offset=function(){if(!this.element.ownerDocument){return null}var g=this.element.ownerDocument.documentElement,e=a(this.element.ownerDocument),f={top:0,left:0};return this.element.getBoundingClientRect&&(f=this.element.getBoundingClientRect()),{top:f.top+e.pageYOffset-g.clientTop,left:f.left+e.pageXOffset-g.clientLeft}},b.prototype.on=function(m,f){var g=m.split("."),h=g[0],j=g[1]||"__default",k=this.handlers[j]=this.handlers[j]||{},l=k[h]=k[h]||[];l.push(f),this.element.addEventListener(h,f)},b.prototype.outerHeight=function(f){var g,h=this.innerHeight();return f&&!d(this.element)&&(g=window.getComputedStyle(this.element),h+=parseInt(g.marginTop,10),h+=parseInt(g.marginBottom,10)),h},b.prototype.outerWidth=function(f){var g,h=this.innerWidth();return f&&!d(this.element)&&(g=window.getComputedStyle(this.element),h+=parseInt(g.marginLeft,10),h+=parseInt(g.marginRight,10)),h},b.prototype.scrollLeft=function(){var e=a(this.element);return e?e.pageXOffset:this.element.scrollLeft},b.prototype.scrollTop=function(){var e=a(this.element);return e?e.pageYOffset:this.element.scrollTop},b.extend=function(){function j(m,k){if("object"==typeof m&&"object"==typeof k){for(var l in k){k.hasOwnProperty(l)&&(m[l]=k[l])}}return m}for(var f=Array.prototype.slice.call(arguments),g=1,h=f.length;h>g;g++){j(f[0],f[g])}return f[0]},b.inArray=function(h,f,g){return null==f?-1:f.indexOf(h,g)},b.isEmptyObject=function(g){for(var f in g){return !1}return !0},c.adapters.push({name:"noframework",Adapter:b}),c.Adapter=b}();